   pos delt
dl 5 g 0 changed
   6 f 0 new
   7 h 1 changed,moved
   8 i 0 same             -- perhaps this must be at line 8
			     so any extra lines from inserts must go
   ...

sl 5 f
   6 g
   7 h
   8 i

             v-
pos  5 6 7 8 8
dl   5 6 6 7 8
       ^insert dl b/w 5,6
         ^delta 1
           ^link out trashed 8
             ^delta 0

--

" empty
"(b) = the line that was originally empty, with the b chars

a " b c d e ..

modify buffer

bl a b    c    d e ..
dl a "(b) b    c d e ..     ; a with a chars; the line that was originally empty, with the b chars; ...
sl a "    b    c d e ..

update screen img

bl a b c  d  e ..
dl a " c  d             dis-line b is linked out because dis-line line trashed
d  0 0 -1 -1
sl a " b  c  d e ..

smart-win-redisplay

bl a b c d e ..
dl 
q  - w d - - ..     i
sl a b c d e ..


--

f g h i

modify buffer

bl g f    h    i ..
dl f g(h) h(") i ..
sl f g    h    i ..

update screen img

bl g f h    i ..
dl f n g(h) i ..           h linked out as dis-line line trashed
d  0 0 1    0 ..           (should i val be -1?)
q  w w i    - .. d
sl f g h    i ..

smart-win-redisplay

bl g f h    i ..
dl f n g(h) i ..
sl f g h    h i ..          FIX should be 1 h


(f(f)   g(g) h(h) i(i)..)
...
(f(g) new(f) g(h) i(i)..)
d: 0      0    1    0 ..    ...   end
q: w      w    i    -             d (net-delta 1)
               ^(at prev posn)
                    ^(should be -1?)
result on screen:
g f h h i..
(f(g) new(f) g(h) h(h) i(i)..)

(f(f) g(g) h(h)..)
take out g line (f(f) h(h)..)
put g line chars in f line (f(g) h(h)..)
put f line chars in h line (f(g) h(f) i(i)..)
put h chars in new line (f(g) h(f) new(h) i(i)..)


l 1288: #<Hemlock Line "; ffffff            ggggggg">
dis-line (1792): #S(HEMLOCK-INTERNALS::WINDOW-DIS-LINE
                      :CHARS ; ggggggg           ffffffk window))system I/O area.  This is indicated by> #<Screen Image Line "">% ">n Image !
                      :LENGTH 26
                      :FONT-CHANGES NIL
                      :OLD-CHARS ; ggggggg           ffffff
                      :LINE #<Hemlock Line "; hhhhhhhh">
                      :FLAGS 0
                      :DELTA 0
                      :POSITION 6
                      :END 26)
l 1792: #<Hemlock Line "; hhhhhhhh">
dis-line (256): #S(HEMLOCK-INTERNALS::WINDOW-DIS-LINE
                     :CHARS ; hhhhhhhh          ggggggg       first-changed last-changedline)T, this is52"> #<Screen Image Line ""><Screen !
                     :LENGTH 10
                     :FONT-CHANGES NIL
                     :OLD-CHARS ; hhhhhhhh
                     :LINE #<Hemlock Line "">
                     :FLAGS 0
                     :DELTA 0
                     :POSITION 7
                     :END 10)

take out the g line
put the g line chars on the f line
put the f line chars on the h line (which now follows the f line)
put the h line chars on a new line, inserting the new line (hence 


