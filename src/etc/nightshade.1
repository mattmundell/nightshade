.\" Nightshade man page.
.\" FIX pull in intro from Info
.\"
.TH NIGHTSHADE 1 "January 07, 2008"
.AT 3
.SH NAME
nightshade \- a Lisp environment
.SH SYNOPSIS
.B nightshade
[input-files] [switch-list]
.SH DESCRIPTION
Start the Nightshade Lisp environment.  If
.I switch-list
is empty, then enter a read-eval-print loop using
stdin, stdout and stderr.  The optional
.I input-files
provide operands for certain switches.

The following switches are defined:
.
.TP 10n
.BR \-core " filename"
Specifies the suspended image (or `core file') to start up.  The default
is `lib/lisp.core'.
.TP
.BR \-edit
Enter the editor.
A file to edit may be specified by
placing the name of the file between the program name (usually `nightshade') and
the first switch.
.TP
.BR \-eval " expression"
Evaluates the specified Lisp
.I expression
during the start up sequence.  The value of the form will only be printed if
it is wrapped in a form that does output.
.TP
.BR \-init " filename"
Specifies the name of a file containing user customizations to be
loaded (usually the file is ~/.nightshade/lisp.lisp).
The loader
loads any compiled version of these files, else the source.
.TP
.BR \-einit " filename"
Similar to \-init, but specifies the name of the editor
init file (usually `~/.nightshade/ed.lisp'), which is loaded only
when the editor is started.
.TP
.BR \-noinit
Suppresses loading of the init file, and also prevents \-edit from loading the
editor init file.
.TP
.BR \-xoff
Instruct the editor to run in the terminal instead of as an X application.
.TP
.BR \-load " filename"
Loads the specified file before entering the read-eval-print loop.
.TP
.BR \-slave " editor-name"
Specifies that Lisp should start up as a
.I slave
Lisp and try to
connect to an editor Lisp.  The name of the editor to connect to must be
specified.  To find the editor's name, use the editor
`Accept Slave Connections' command.
.I editor-name
is of the form `machine-name:socket', where
.I machine-name
is the
internet host name for the machine and
.I socket
is the decimal number of the socket to connect to.
.PP
.\"
.SH ENVIRONMENT
.\"
.TP 10n
.BR NIGHTSHADELIB
The `lib/' directory holding `lisp.core' and other files used by Nightshade
at run-time.  Setting this variable overrides the standard location, which
is `/usr/local/lib/nightshade/lib'.
.TP
.BR TERMCAP
The terminal capabilities file.  Required by the editor when running under
a terminal.  Setting this variable overrides the standard location, which
is `/etc/termcap'.
.\" .TP
.\" .BR CMUCL_EMPTYFILE
.\" [SunOS only] If `df /tmp' shows `swap' as the filesystem for the `/tmp'
.\" directory, then you have a "tmpfs" filesystem.  In this case, you must setenv
.\" CMUCL_EMPTYFILE to point into a pathname on a non-TMPFS filesystem that can be
.\" used instead of `/tmp/empty'.
.\" .TP
.\" .BR XKEYSYMDB
.\" In order to use Motif (and the graphical debugger) with X servers from
.\" non-OSF vendors (like Sun) you may need to set the environment variable
.\" XKEYSYMDB to point to the file `lib/XKeysymDB'.  Otherwise, you will get many
.\" error messages every time a new connection is opened to the CMU CL motifd.
.\" This file is read by the X11R5 Xt in order to augment the keysym database with
.\" certain OSF vendor keysyms that Motif wants to use.
.
.PP
.\"
.SH EXAMPLES
.\"
.TP 10n
.BR nightshade " script"
Execute the code in script and then exit.
.\"
.TP
.BR nightshade " file -edit"
Open file in the editor.
.\" .TP
.PP
.\"
.SH FILES
.\"
The following pathnames are specified relative to the directory in which
Nightshade is installed.
.
.TP 10n
.\" .BR doc/*
.\" Various documentation files.
.\" .TP
.BR bin/nightshade
The lisp startup program.  This directory should be in PATH.
.TP
.BR lib/nightshade/lisp.core
The suspended Lisp image.
.TP
.BR lib/site-init.lisp
Site specific initialization.
.TP
.BR lib/hemlock11.*, lib/spell-dictionary.bin
Editor files.
.TP
.\" .BR lib/fonts/
.\" X11 fonts for Hemlock.
.\" .TP
.\" .BR lib/XKeysymDB
.\" Database of X Keysym names for Motif.
.\" .TP
.BR ~/.nightshade/lisp.lisp
User customization files loaded at lisp startup.
Init files can be compiled.
.TP
.BR ~/.nightshade/ed.lisp
User editor initialization file, loaded when the editor starts.
.PP
.\"
.SH ERRORS
.\"
Many.  Known errors are marked with "FIX" in the source.  etc:TODO is a
rough todo list.  Please send any feedback to matt@mundell.ukfsn.org.
.PP
.\"
.SH AUTHORS
.\"
Nightshade is based on the public domain portions of release 18c of CMUCL.
The authors include the authors of the original code at CMU, contributers
to the subsequent CMUCL internet-based project, and people who have
dedicated code to the public domain.
.\"
The "Authors" documentation node lists all authors.
.\"
.\"
.SH SEE ALSO
.\"
The full documentation, available in the editor via the `Info' command
(bound to "control-h d").
.\"
The project home page online
.\"
.BR http://www.mundell.ukfsn.org/nightshade/
.\"
.\"
.\" FIX describe very basic ed intro exit
.\"
.SH COPYING
.\"
Nightshade is entirely Free Software.  Nightshade is most probably also
entirely in the public domain (further details at
http://www.mundell.ukfsn.org/nightshade/public.html).
.\" FIX more details
.\"
